<h1>Crea una nuova fattura</h1>

<% form_for(@invoice) do |f| %>
  <%= f.error_messages %>

  <p>
    <%= f.label :codice, "Numero Fattura" %><br />
    <%= f.text_field :codice, :value => (DateTime.now.strftime("%Y-%m-") + (Invoice.last.id + 1).to_s) %>
  </p>
  <p>
    <%= f.label :data_fattura %><br />
    <%= f.date_select :data_fattura %>
  </p>
  <p>
    <%= f.label :customer_id, "Cliente" %><br />
    <!--= f.text_field :customer_id %-->
	<%= select("invoice", "customer_id", Customer.all.collect {|c| [ (!c.ragione_sociale.empty? ? c.ragione_sociale : "#{c.nome} #{c.cognome}") , c.id ] }) %>
  </p>
  <p>
    <%= f.label :descrizione, "Annotazioni Varie" %><br />
    <%= f.text_area :descrizione %>
  </p>
  <p>
    <%= f.submit 'Crea Fattura' %>
  </p>
<% end %>

<%= link_to 'Back', invoices_path %>